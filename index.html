<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AIBooks</title>
    <link rel="icon" href="Logos/favicon.ico" sizes="any" />
    <link rel="icon" href="Logos/AIBooks_logo.png" type="image/png" />
    <link rel="apple-touch-icon" href="Logos/apple-touch-icon.png" />
    <link rel="manifest" href="manifest.json" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.tailwindcss.com/3.4.1"></script>
  </head>
  <body class="text-white font-sans">
    <div id="loader" class="loader hidden"></div>

    <div class="container-wrapper">
      <header class="main-header">
        <div class="logo">
          <img
            src="Logos/AIBooks_logo.png"
            alt="logo"
            class="w-12 h-12 rounded-md"
          />
          <h1>AIBooks</h1>
        </div>
        <nav class="main-nav">
          <a href="https://github.com/SkillfulElectro/AIBooks" target="_blank">
            <i class="fab fa-github"></i> GitHub
          </a>
        </nav>
      </header>

      <main>
        <div id="book-selection-view">
          <div class="hero-section">
            <h2>Explore, Learn, Master</h2>
            <p>
             Learn and Explore +150 topics with your AI Assistant .
            </p>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input
                type="text"
                id="searchBooks"
                placeholder="Search for a book or category..."
              />
            </div>
          </div>

          <div id="category-nav" class="category-nav" style="display: none;">
            <button id="categoryBackBtn">
              <i class="fas fa-arrow-left"></i> Back
            </button>
            <div id="breadcrumbs"></div>
          </div>
          
          <section id="booksArea" class="bento-grid">
            <!-- Book items will be injected here -->
          </section>
        </div>

        <div id="topic-view" style="display: none">
            <div class="topic-header">
                <button id="backToBooksBtn">
                    <i class="fas fa-arrow-left"></i> Back to Books
                </button>
                <h2 id="bookTitle"></h2>
                <div class="topic-controls">
                    <input
                        type="text"
                        id="searchTopics"
                        placeholder="Search topics..."
                    />
                    <button id="selectAll">Select All</button>
                    <button id="clearAll">Clear All</button>
                </div>
            </div>
            
            <div id="search-provider-selector" class="provider-selector">
                <!-- AI provider buttons will be injected here -->
            </div>
            
            <div id="list" class="topic-grid">
                <!-- Topic cards inserted here -->
            </div>
        </div>

        <div
          id="jsErrorPlaceholder"
          style="display: none"
          class="error-banner"
        ></div>
      </main>

      <footer class="main-footer">
        <p>Made with ❤️</p>
      </footer>
    </div>

    <button id="scrollTopBtn" title="Scroll to top">
      <i class="fas fa-arrow-up"></i>
    </button>

    <script src="script.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("sw.js")
            .then((reg) => console.log("Service worker registered.", reg))
            .catch((err) => console.error("SW registration failed:", err));
        });
      }
    </script>
  </body>
</html>
